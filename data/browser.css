/*
 * Line, a Firefox Addon/Extension, fork of Mozilla Labs Oneliner 2.
 *
 * Copyright (C) 2015 Mazdak Farrokhzad <twingoow@gmail.com>, Mozilla Labs
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */

@-moz-document url-prefix("chrome://browser/content/browser.xul") {
	#firefox-line-search-view {
		padding-left:5px;
	}

	#firefox-line-search-view .search-panel-one-offs {
		margin: 0px !important;
		line-height: 0;
	}

	#firefox-line-search-view .searchbar-engine-one-off-item {
		-moz-appearance: none;
		display: inline-block !important;
		border: medium none;
		min-width: 48px;
		height: 32px;
		margin: 0px;
		padding: 0px;
		background: transparent url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAWCAYAAAABxvaqAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gofECQNNVW2/AAAABBJREFUGFdjOHPmzH8GehEA/KpKg9YTf4AAAAAASUVORK5CYII=") no-repeat scroll right center;
	}

	#firefox-line-search-view .searchbar-engine-one-off-item:hover {
		background-color: #39F;
		background-image: none;
	}

	#firefox-line-search-view .searchbar-engine-one-off-item:not(.last-row) {
		box-sizing: content-box;
		border-bottom: 1px solid #CCC;
	}

	#firefox-line-search-view .searchbar-engine-one-off-item.last-of-row {
		background-image: none;
	}

	#firefox-line-search-view .searchbar-engine-one-off-item > .button-box {
		border: medium none;
		padding: 0px;
	}
	#firefox-line-search-view .searchbar-engine-one-off-item > .button-box > .button-icon {
		width: 16px;
		height: 16px;
	}
	#firefox-line-search-view .searchbar-engine-one-off-item > .button-box > .button-text {
		display: none;
	}

	#firefox-line-search-view .searchbar-engine-one-off-item.current {
		border-bottom:none !important;
		padding-bottom:1px;
		box-shadow:0px -2px 0px rgb(51, 153, 255) inset, 0px 1px 0px rgb(51, 153, 255);
	}

	#firefox-line-search-view .addengine-item {
		-moz-appearance: none;
		border: medium none;
		height: 32px;
		margin: 0px;
		padding: 0px 10px;
	}

	#firefox-line-search-view .addengine-item:first-of-type {
		border-top: 1px solid #CCC;
	}
}


@-moz-document url-prefix("chrome://browser/content/browser.xul") {
	/* Start: Copied from #TabsToolbar*/
	[devtoolstheme]:root #navigator-toolbox > toolbar#nav-bar:not(#TabsToolbar):not(#toolbar-menubar) {
		background-color: var(--chrome-background-color) !important;
	}

	[devtoolstheme]:root #tabbrowser-tabs {
		text-shadow: none !important;
		color: var(--chrome-color) !important;
	}

	#nav-bar[brighttext] {
		--tab-separator-image: linear-gradient(transparent 0%, transparent 15%, currentColor 15%, currentColor 90%, transparent 90%);
		--tab-separator-size: 1px 100%;
		--tab-separator-opacity: 0.4;
	}

	#nav-bar #new-tab-button {
		width: 26px;
	}
	.tabs-newtab-button, #nav-bar #new-tab-button, #nav-bar toolbarpaletteitem > #new-tab-button {
		list-style-image: url("chrome://browser/skin/tabbrowser/newtab.png") !important;
		-moz-image-region: auto !important;
	}
	#nav-bar[brighttext] .tabs-newtab-button, #nav-bar[brighttext] #new-tab-button, #nav-bar[brighttext] toolbarpaletteitem > #new-tab-button {
		list-style-image: url("chrome://browser/skin/tabbrowser/newtab-inverted.png") !important;
	}
	#nav-bar[brighttext] #alltabs-button, #nav-bar[brighttext] toolbarpaletteitem > #alltabs-button {
		list-style-image: url("chrome://browser/skin/toolbarbutton-dropdown-arrow-inverted.png") !important;
	}
	#nav-bar[brighttext] #tabbrowser-tabs > .tabbrowser-arrowscrollbox > .scrollbutton-up, #nav-bar[brighttext] #tabbrowser-tabs > .tabbrowser-arrowscrollbox > .scrollbutton-down {
		list-style-image: url("chrome://browser/skin/tabbrowser/tab-arrow-left-inverted.png") !important;
	}
	#nav-bar[brighttext] #tabbrowser-tabs > .tabbrowser-arrowscrollbox > .scrollbutton-up, #nav-bar[brighttext] #tabbrowser-tabs > .tabbrowser-arrowscrollbox > .scrollbutton-down {
		list-style-image: url("chrome://browser/skin/tabbrowser/tab-arrow-left-inverted.png") !important;
	}
	/* End: Copied from #TabsToolbar*/

	#TabsToolbar {
		display:none !important;
	}

	#nav-bar, #back-button, #forward-button {
		height:30px;
	}
	#urlbar {
		height:31px;
	}

	.tabbrowser-arrowscrollbox {
		min-width:0px !important;
	}

	#unified-back-forward-button {
		-moz-transition-property: margin-right;
		-moz-transition-duration: 100ms;
		-moz-transition-timing-function: ease-out;
	}

	#urlbar-container {
		-moz-transition-property: width;
		-moz-transition-duration: 100ms;
		-moz-transition-timing-function: ease-out;
	}

	#identity-icon-labels {
		overflow: hidden;
		-moz-transition-property: width, max-width;
		-moz-transition-duration: 100ms;
		-moz-transition-timing-function: ease-in-out;
	}

	/* Reduce space between caption buttons and menu button: */
	.titlebar-placeholder[type="caption-buttons"] {
		margin-left:0px;
	}

	.tabbrowser-tab:not([pinned]) {
		width:auto !important;
	}

	#main-window .tabbrowser-arrowscrollbox > .arrowscrollbox-scrollbox {
		padding-left: 0px !important;
		padding-right: 0px !important;
	}
}

@-moz-document url-prefix("chrome://browser/content/browser.xul") {
	@media (max-width: 700px) {
		#urlbar-container {
			min-width: 45ch !important;
		}
		#identity-box {
			padding-right: 5px !important;
			padding-left: 0px !important;
		}
		.autocomplete-history-dropmarker.urlbar-history-dropmarker,
		#urlbar-reload-button,
		#action-button--firefox-line-searchbutton {
			display:none !important;
		}
	}
	@media (max-width: 600px) {
		#urlbar-container {
			min-width: 40ch !important;
		}
		#identity-box {
			padding-right: 5px !important;
			padding-left: 0px !important;
		}
		.autocomplete-history-dropmarker.urlbar-history-dropmarker,
		#urlbar-reload-button,
		#back-button, #forward-button,
		#action-button--firefox-line-searchbutton {
			display:none !important;
		}
	}
	@media (max-width: 500px) {
		#urlbar-container {
			min-width: 35ch !important;
		}
		#identity-box {
			padding-right: 5px !important;
			padding-left: 0px !important;
		}
		.autocomplete-history-dropmarker.urlbar-history-dropmarker,
		#urlbar-reload-button,
		#back-button, #forward-button, #tabbrowser-tabs,
		#action-button--firefox-line-searchbutton {
			display:none !important;
		}
	}
	@media (max-width: 400px) {
		#urlbar-container {
			min-width: 20ch !important;
		}
		#identity-box {
			padding-right: 5px !important;
			padding-left: 0px !important;
		}
		.autocomplete-history-dropmarker.urlbar-history-dropmarker,
		#identity-icon-labels, #urlbar-reload-button,
		#back-button, #forward-button, #new-tab-button, #tabbrowser-tabs,
		#action-button--firefox-line-searchbutton {
			display:none !important;
		}
	}
}